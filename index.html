<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XP Deus II V4 - Configurateur Expert</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #ecf0f1;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px solid #00d4ff;
            padding-bottom: 20px;
        }

        header h1 {
            font-size: 2.5em;
            color: #00d4ff;
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
            margin-bottom: 10px;
        }

        header p {
            color: #bdc3c7;
            font-size: 0.95em;
        }

        .workflow-stage {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .stage-box {
            background: rgba(44, 62, 80, 0.6);
            border: 2px solid #34495e;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .stage-box:hover {
            transform: translateY(-2px);
            border-color: #00d4ff;
        }

        .stage-box.active {
            border-color: #00d4ff;
            background: rgba(0, 212, 255, 0.15);
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.3);
        }

        .stage-box h3 {
            color: #00d4ff;
            margin-bottom: 5px;
            font-size: 0.9em;
        }

        .stage-box p {
            font-size: 0.8em;
            color: #bdc3c7;
        }

        .panel {
            background: rgba(44, 62, 80, 0.85);
            border: 2px solid #34495e;
            border-radius: 8px;
            padding: 25px;
            display: none;
        }

        .panel.active {
            display: block;
        }

        .panel h2 {
            color: #00d4ff;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #ecf0f1;
            font-weight: 500;
        }

        .form-group input[type="range"],
        .form-group input[type="number"],
        .form-group select {
            width: 100%;
            padding: 10px;
            background: rgba(52, 73, 94, 0.7);
            border: 1px solid #7f8c8d;
            border-radius: 4px;
            color: #ecf0f1;
            font-size: 0.95em;
        }

        .slider-container {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .slider-container input[type="range"] {
            flex: 1;
            margin: 0;
        }

        .slider-value {
            background: rgba(0, 212, 255, 0.2);
            padding: 8px 15px;
            border-radius: 4px;
            min-width: 80px;
            text-align: center;
            color: #00d4ff;
            font-weight: bold;
            border: 1px solid #00d4ff;
        }

        .button-group {
            display: flex;
            gap: 10px;
            justify-content: space-between;
            margin-top: 30px;
        }

        button {
            padding: 12px 24px;
            background: #00d4ff;
            color: #1a1a2e;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        button:hover {
            background: #00f7ff;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.3);
        }

        button:disabled {
            background: #7f8c8d;
            cursor: not-allowed;
        }

        .button-secondary {
            background: #34495e;
            color: #ecf0f1;
            border: 1px solid #7f8c8d;
        }

        .button-secondary:hover {
            background: #445566;
        }

        .result-box {
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid #00d4ff;
            border-radius: 4px;
            padding: 15px;
            margin-top: 20px;
        }

        .result-box h4 {
            color: #00d4ff;
            margin-bottom: 10px;
        }

        .result-box p {
            color: #ecf0f1;
            margin-bottom: 5px;
        }

        .recommendation {
            background: rgba(46, 125, 50, 0.2);
            border-left: 4px solid #4caf50;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
        }

        .recommendation h5 {
            color: #4caf50;
            margin-bottom: 10px;
        }

        .warning {
            background: rgba(255, 152, 0, 0.2);
            border-left: 4px solid #ff9800;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
        }

        .warning h5 {
            color: #ff9800;
            margin-bottom: 10px;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #34495e;
        }

        .tab-button {
            padding: 10px 15px;
            background: transparent;
            color: #bdc3c7;
            border: none;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .tab-button.active {
            color: #00d4ff;
            border-bottom-color: #00d4ff;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        tr {
            border-bottom: 1px solid #34495e;
        }

        td {
            padding: 10px;
        }

        ol {
            padding-left: 20px;
        }

        ol li {
            margin-bottom: 8px;
        }

        @media (max-width: 768px) {
            .workflow-stage {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéØ XP Deus II V4 - Configurateur Expert</h1>
            <p>Guide complet de param√©trisation par type de terrain et objectif</p>
        </header>

        <div class="workflow-stage">
            <div class="stage-box active" onclick="goToStage(1)">
                <h3>üìä √âtape 1</h3>
                <p>Terrain</p>
            </div>
            <div class="stage-box" onclick="goToStage(2)">
                <h3>üéØ √âtape 2</h3>
                <p>Objectif</p>
            </div>
            <div class="stage-box" onclick="goToStage(3)">
                <h3>‚öôÔ∏è √âtape 3</h3>
                <p>Configuration</p>
            </div>
            <div class="stage-box" onclick="goToStage(4)">
                <h3>üîß √âtape 4</h3>
                <p>Affinage V4</p>
            </div>
        </div>

        <div id="stage1" class="panel active">
            <h2>üìä Caract√©ristiques du Terrain</h2>
            
            <div class="form-group">
                <label>Min√©ralisation du sol:</label>
                <div class="slider-container">
                    <input type="range" id="minera" min="0" max="100" value="30" onchange="updateStage1()">
                    <span class="slider-value"><span id="minera-val">30</span>%</span>
                </div>
                <p style="font-size: 0.85em; color: #bdc3c7; margin-top: 5px;">0=Propre | 50=Normal | 100=Tr√®s charg√©</p>
            </div>

            <div class="form-group">
                <label>Pollution ferreuse:</label>
                <div class="slider-container">
                    <input type="range" id="ferrous" min="0" max="100" value="20" onchange="updateStage1()">
                    <span class="slider-value"><span id="ferrous-val">20</span>%</span>
                </div>
                <p style="font-size: 0.85em; color: #bdc3c7; margin-top: 5px;">0=Aucun fer | 50=Moyen | 100=Maximal</p>
            </div>

            <div class="form-group">
                <label>EMI (Interf√©rence √©lectromagn√©tique):</label>
                <div class="slider-container">
                    <input type="range" id="emi" min="0" max="100" value="10" onchange="updateStage1()">
                    <span class="slider-value"><span id="emi-val">10</span>%</span>
                </div>
                <p style="font-size: 0.85em; color: #bdc3c7; margin-top: 5px;">0=Aucune | 50=Mod√©r√©e | 100=Forte</p>
            </div>

            <div class="form-group">
                <label>Type de sol:</label>
                <select id="soilType" onchange="updateStage1()">
                    <option value="prairie">Prairie/Champ labour√©</option>
                    <option value="humide">Sol humide</option>
                    <option value="sable">Sable/Plage</option>
                    <option value="argileux">Argileux/Min√©ralis√© fort</option>
                    <option value="rocheux">Rocheux/Caillouteux</option>
                </select>
            </div>

            <div id="soilAssessment" class="result-box"></div>

            <div class="button-group">
                <button style="visibility: hidden;">‚Üê Pr√©c√©dent</button>
                <button onclick="goToStage(2)">Suivant ‚Üí</button>
            </div>
        </div>

        <div id="stage2" class="panel">
            <h2>üéØ Objectif de Recherche</h2>
            
            <div class="form-group">
                <label>Qu'est-ce que tu cherches principalement ?</label>
                <select id="objective" onchange="updateStage2()">
                    <option value="">-- S√©lectionne --</option>
                    <option value="monnaies">Monnaies anciennes</option>
                    <option value="or">Or (p√©pites, bijoux)</option>
                    <option value="reliques">Reliques/Arch√©o</option>
                    <option value="profond">Grosses masses profondes</option>
                    <option value="petit">Petites cibles (billon, or fin)</option>
                    <option value="detecter">Tout d√©tecter (aucune discri)</option>
                </select>
            </div>

            <div id="objectiveInfo" class="result-box"></div>

            <div class="button-group">
                <button onclick="goToStage(1)">‚Üê Pr√©c√©dent</button>
                <button onclick="goToStage(3)">Suivant ‚Üí</button>
            </div>
        </div>

        <div id="stage3" class="panel">
            <h2>‚öôÔ∏è Configuration Recommand√©e</h2>
            <div id="configResult"></div>
            <div class="button-group">
                <button onclick="goToStage(2)">‚Üê Pr√©c√©dent</button>
                <button onclick="goToStage(4)">Suivant ‚Üí</button>
            </div>
        </div>

        <div id="stage4" class="panel">
            <h2>üîß Multi-Processing V4 - Affinage</h2>
            
            <div class="tabs">
                <button class="tab-button active" onclick="switchTab('voie1')">Voie 1 (Profonde)</button>
                <button class="tab-button" onclick="switchTab('voie2')">Voie 2 (Rapide)</button>
                <button class="tab-button" onclick="switchTab('tips')">Conseils</button>
            </div>

            <div id="voie1" class="tab-content active">
                <h3 style="color: #00d4ff; margin-bottom: 15px;">Voie 1 - Profonde</h3>
                <div class="form-group">
                    <label>R√©activit√©:</label>
                    <div class="slider-container">
                        <input type="range" id="react1" min="0" max="5" value="1" onchange="updateVoie1()">
                        <span class="slider-value"><span id="react1-val">1</span></span>
                    </div>
                </div>
                <div class="form-group">
                    <label>Sensibilit√©:</label>
                    <div class="slider-container">
                        <input type="range" id="sens1" min="70" max="99" value="93" onchange="updateVoie1()">
                        <span class="slider-value"><span id="sens1-val">93</span></span>
                    </div>
                </div>
                <div class="form-group">
                    <label>Audio:</label>
                    <select id="audio1" onchange="updateVoie1()">
                        <option value="morphing">Morphing</option>
                        <option value="square">Square</option>
                        <option value="pwm">PWM</option>
                        <option value="2tons">2 Tons</option>
                    </select>
                </div>
                <div id="voie1Result" class="result-box"></div>
            </div>

            <div id="voie2" class="tab-content">
                <h3 style="color: #00d4ff; margin-bottom: 15px;">Voie 2 - Rapide</h3>
                <div class="form-group">
                    <label>R√©activit√©:</label>
                    <div class="slider-container">
                        <input type="range" id="react2" min="0" max="5" value="3" onchange="updateVoie2()">
                        <span class="slider-value"><span id="react2-val">3</span></span>
                    </div>
                </div>
                <div class="form-group">
                    <label>Sensibilit√©:</label>
                    <div class="slider-container">
                        <input type="range" id="sens2" min="70" max="99" value="90" onchange="updateVoie2()">
                        <span class="slider-value"><span id="sens2-val">90</span></span>
                    </div>
                </div>
                <div class="form-group">
                    <label>Audio:</label>
                    <select id="audio2" onchange="updateVoie2()">
                        <option value="2tons">2 Tons</option>
                        <option value="square">Square</option>
                        <option value="morphing">Morphing</option>
                        <option value="pwm">PWM</option>
                    </select>
                </div>
                <div id="voie2Result" class="result-box"></div>
            </div>

            <div id="tips" class="tab-content">
                <h3 style="color: #00d4ff; margin-bottom: 15px;">Affinage Terrain</h3>
                <div id="tipsContent"></div>
            </div>

            <div class="button-group">
                <button onclick="goToStage(3)">‚Üê Pr√©c√©dent</button>
                <button onclick="exportConfig()">üíæ Exporter</button>
            </div>
        </div>
    </div>

    <script>
        let state = {
            minera: 30,
            ferrous: 20,
            emi: 10,
            soilType: 'prairie',
            objective: '',
            react1: 1,
            sens1: 93,
            audio1: 'morphing',
            react2: 3,
            sens2: 90,
            audio2: '2tons'
        };

        function goToStage(n) {
            document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.stage-box').forEach(b => b.classList.remove('active'));
            document.getElementById('stage' + n).classList.add('active');
            document.querySelectorAll('.stage-box')[n-1].classList.add('active');
            if (n === 3) updateStage3();
            if (n === 4) updateStage4();
        }

        function updateStage1() {
            state.minera = parseInt(document.getElementById('minera').value);
            state.ferrous = parseInt(document.getElementById('ferrous').value);
            state.emi = parseInt(document.getElementById('emi').value);
            state.soilType = document.getElementById('soilType').value;
            document.getElementById('minera-val').textContent = state.minera;
            document.getElementById('ferrous-val').textContent = state.ferrous;
            document.getElementById('emi-val').textContent = state.emi;
            let msg = '‚úÖ Terrain propre';
            if (state.minera > 60 || state.ferrous > 60) msg = 'üî¥ Terrain difficile - sensibilit√© basse, r√©activit√© haute';
            else if (state.minera > 40 || state.ferrous > 40) msg = '‚ö†Ô∏è Terrain moyen - √©quilibre √† trouver';
            document.getElementById('soilAssessment').innerHTML = '<h4>Diagnostic:</h4><p>' + msg + '</p>';
        }

        function updateStage2() {
            state.objective = document.getElementById('objective').value;
            let txt = {
                'monnaies': 'Monnaies: profondeur maximale + bonne s√©paration fer',
                'or': 'Or: haute fr√©quence + r√©activit√© rapide',
                'reliques': 'Arch√©o: terrain pollu√©, discri basse',
                'profond': 'Profond: r√©activit√© tr√®s basse',
                'petit': 'Petit: r√©activit√© haute + sensibilit√© √©lev√©e',
                'detecter': 'Tous m√©taux: pas de discri'
            };
            document.getElementById('objectiveInfo').innerHTML = '<h4>Approche:</h4><p>' + (txt[state.objective] || '') + '</p>';
        }

        function updateStage3() {
            let sens = 93, react = 2, disc = 10, audio = 'Square';
            if (state.objective === 'monnaies') { sens = 93; react = 1; disc = 10; audio = 'Square'; }
            else if (state.objective === 'profond') { sens = 95; react = 0; disc = 0; audio = 'Morphing'; }
            else if (state.objective === 'petit') { sens = 93; react = 4; disc = 8; audio = 'Square'; }
            if (state.minera > 60) sens = 85;
            if (state.ferrous > 60) react = 3;
            document.getElementById('configResult').innerHTML = `
                <div class="result-box">
                    <h4>Param√©trisation propos√©e:</h4>
                    <table><tr><td style="color: #00d4ff;">Sensibilit√©</td><td><strong>${sens}</strong></td></tr>
                    <tr><td style="color: #00d4ff;">R√©activit√©</td><td><strong>${react}</strong></td></tr>
                    <tr><td style="color: #00d4ff;">Discrimination</td><td><strong>${disc}</strong></td></tr>
                    <tr><td style="color: #00d4ff;">Audio</td><td><strong>${audio}</strong></td></tr></table>
                </div>
            `;
        }

        function updateStage4() {
            updateVoie1();
            updateVoie2();
            updateTips();
        }

        function updateVoie1() {
            state.react1 = parseInt(document.getElementById('react1').value);
            state.sens1 = parseInt(document.getElementById('sens1').value);
            state.audio1 = document.getElementById('audio1').value;
            document.getElementById('react1-val').textContent = state.react1;
            document.getElementById('sens1-val').textContent = state.sens1;
            document.getElementById('voie1Result').innerHTML = `<h4>Voie 1 R√©sum√©:</h4><p>R√©activit√©: ${state.react1} | Sensibilit√©: ${state.sens1} | Audio: ${state.audio1}</p>`;
        }

        function updateVoie2() {
            state.react2 = parseInt(document.getElementById('react2').value);
            state.sens2 = parseInt(document.getElementById('sens2').value);
            state.audio2 = document.getElementById('audio2').value;
            document.getElementById('react2-val').textContent = state.react2;
            document.getElementById('sens2-val').textContent = state.sens2;
            document.getElementById('voie2Result').innerHTML = `<h4>Voie 2 R√©sum√©:</h4><p>R√©activit√©: ${state.react2} | Sensibilit√©: ${state.sens2} | Audio: ${state.audio2}</p>`;
        }

        function updateTips() {
            let tips = '<div class="recommendation"><h5>Proc√©dure:</h5><ol><li>GRAB sur zone propre</li><li>V√©rifier Ground ID</li><li>Monter sensibilit√© jusqu\'√† stabilit√©</li><li>Tester sur cible connue</li><li>Affiner r√©activit√©</li></ol></div>';
            if (state.minera > 60) tips += '<div class="warning"><h5>‚ö†Ô∏è Sol chaud:</h5><p>Ground Stabilizer + fr√©quence max 40 kHz</p></div>';
            if (state.ferrous > 60) tips += '<div class="warning"><h5>‚ö†Ô∏è Beaucoup de fer:</h5><p>R√©activit√© haute (3+), ne pas monter discri</p></div>';
            document.getElementById('tipsContent').innerHTML = tips;
        }

        function switchTab(tab) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
            document.getElementById(tab).classList.add('active');
            event.target.classList.add('active');
        }

        function exportConfig() {
            let cfg = JSON.stringify({terrain: {minera: state.minera, ferrous: state.ferrous, emi: state.emi}, objective: state.objective, voie1: {react: state.react1, sens: state.sens1, audio: state.audio1}, voie2: {react: state.react2, sens: state.sens2, audio: state.audio2}}, null, 2);
            let blob = new Blob([cfg], {type: 'application/json'});
            let url = URL.createObjectURL(blob);
            let a = document.createElement('a');
            a.href = url;
            a.download = 'xp-deus2-v4.json';
            a.click();
            URL.revokeObjectURL(url);
        }

        updateStage1();
    </script>
</body>
</html>
